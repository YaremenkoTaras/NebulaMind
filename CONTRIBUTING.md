# Contributing to NebulaMind

–î—è–∫—É—î–º–æ –∑–∞ —ñ–Ω—Ç–µ—Ä–µ—Å –¥–æ –ø—Ä–æ—î–∫—Ç—É NebulaMind! üöÄ

–ú–∏ —Ä–∞–¥—ñ –±—É–¥—å-—è–∫–∏–º –≤–Ω–µ—Å–∫–∞–º: –≤—ñ–¥ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥—Ä—É–∫–∞—Ä—Å—å–∫–∏—Ö –ø–æ–º–∏–ª–æ–∫ –¥–æ –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.

## üìã –ó–º—ñ—Å—Ç

- [Code of Conduct](#code-of-conduct)
- [–Ø–∫ —è –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏?](#—è–∫-—è-–º–æ–∂—É-–¥–æ–ø–æ–º–æ–≥—Ç–∏)
- [–ü—Ä–æ—Ü–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏](#–ø—Ä–æ—Ü–µ—Å-—Ä–æ–∑—Ä–æ–±–∫–∏)
- [Git Workflow](#git-workflow)
- [Coding Standards](#coding-standards)
- [Testing Guidelines](#testing-guidelines)
- [Pull Request Process](#pull-request-process)

## Code of Conduct

–¶–µ–π –ø—Ä–æ—î–∫—Ç –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –ø–æ–≤–∞–≥–∏ —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–∑–º—É. –£—á–∞—Å—Ç—å —É –ø—Ä–æ—î–∫—Ç—ñ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∏ –ø–æ–≥–æ–¥–∂—É—î—Ç–µ—Å—å:

- –ë—É—Ç–∏ –≤–≤—ñ—á–ª–∏–≤–∏–º–∏ —Ç–∞ –ø–æ–≤–∞–∂–∞—Ç–∏ —ñ–Ω—à–∏—Ö —É—á–∞—Å–Ω–∏–∫—ñ–≤
- –ü—Ä–∏–π–º–∞—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—É –∫—Ä–∏—Ç–∏–∫—É
- –§–æ–∫—É—Å—É–≤–∞—Ç–∏—Å—å –Ω–∞ —Ç–æ–º—É, —â–æ –Ω–∞–π–∫—Ä–∞—â–µ –¥–ª—è –ø—Ä–æ—î–∫—Ç—É
- –ü—Ä–æ—è–≤–ª—è—Ç–∏ –µ–º–ø–∞—Ç—ñ—é –¥–æ —ñ–Ω—à–∏—Ö —É—á–∞—Å–Ω–∏–∫—ñ–≤

## –Ø–∫ —è –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏?

### üêõ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –±–∞–≥–∏

–ó–Ω–∞–π—à–ª–∏ –±–∞–≥? –°—Ç–≤–æ—Ä—ñ—Ç—å issue –∑ —Ç–∞–∫–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é:

1. **–ù–∞–∑–≤–∞**: –ö–æ—Ä–æ—Ç–∫–µ –æ–ø–∏—Å–∞–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏
2. **–û–ø–∏—Å**: –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —â–æ –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫
3. **–ö—Ä–æ–∫–∏ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è**: –Ø–∫ –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–≥
4. **–û—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞**: –©–æ –º–∞—î –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—å
5. **–§–∞–∫—Ç–∏—á–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞**: –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ
6. **–°–µ—Ä–µ–¥–æ–≤–∏—â–µ**:
   - OS (macOS, Linux, Windows)
   - Java version
   - Node.js version (–¥–ª—è console)
7. **–õ–æ–≥–∏**: –ë—É–¥—å-—è–∫—ñ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –ª–æ–≥–∏ –∞–±–æ error messages

**–®–∞–±–ª–æ–Ω:**

```markdown
## –û–ø–∏—Å
[–û–ø–∏—à—ñ—Ç—å –±–∞–≥]

## –ö—Ä–æ–∫–∏ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
1. ...
2. ...
3. ...

## –û—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞
[–©–æ –º–∞—î –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—å]

## –§–∞–∫—Ç–∏—á–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞
[–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è]

## –°–µ—Ä–µ–¥–æ–≤–∏—â–µ
- OS: macOS 14.0
- Java: 21
- Maven: 3.9.5

## –õ–æ–≥–∏
```
[–≤—Å—Ç–∞–≤—Ç–µ –ª–æ–≥–∏ —Ç—É—Ç]
```
```

### üí° –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

–ú–∞—î—Ç–µ —ñ–¥–µ—é? –°—Ç–≤–æ—Ä—ñ—Ç—å issue –∑ —Ç–∞–∫–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é:

1. **–ù–∞–∑–≤–∞**: –ö–æ—Ä–æ—Ç–∫–∞ –Ω–∞–∑–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—ó
2. **–û–ø–∏—Å**: –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
3. **–ú–æ—Ç–∏–≤–∞—Ü—ñ—è**: –ß–æ–º—É —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?
4. **–ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: –Ø–∫ —Ü–µ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏?
5. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏**: –Ø–∫—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è —Ä–æ–∑–≥–ª—è–¥–∞–ª–∏?

### üìù –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

–ó–Ω–∞–π—à–ª–∏ –ø–æ–º–∏–ª–∫—É –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –∞–±–æ —Ö–æ—á–µ—Ç–µ —â–æ—Å—å –¥–æ–¥–∞—Ç–∏? –ü—Ä–æ—Å—Ç–æ —Å—Ç–≤–æ—Ä—ñ—Ç—å PR!

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤:
- `README.md` - –∑–∞–≥–∞–ª—å–Ω–∏–π –æ–≥–ª—è–¥
- `docs/` - –¥–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- `PROJECT_STATUS.md` - —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—î–∫—Ç—É
- `CHANGELOG.md` - —ñ—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω

### üßë‚Äçüíª –ù–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ–¥—É

–•–æ—á–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ—é –∞–±–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –±–∞–≥? –ß—É–¥–æ–≤–æ!

**–û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ø—Ä—è–º–∫–∏ –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—É—Ü—ñ—ó:**

1. **Trading Core**:
   - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Binance API
   - –ù–æ–≤—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ç–∞ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏
   - –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è risk management
   - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

2. **Agent Builder**:
   - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ LLM (OpenAI, Anthropic)
   - –ù–æ–≤—ñ tools –¥–ª—è –∞–≥–µ–Ω—Ç–∞
   - –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è guardrails
   - –ê—É–¥–∏—Ç —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

3. **Agent Console**:
   - UI/UX –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è
   - –ù–æ–≤—ñ charts —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó
   - Real-time updates
   - Mobile responsiveness

4. **Infrastructure**:
   - CI/CD –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
   - Docker improvements
   - Monitoring —Ç–∞ alerting
   - Performance optimization

## –ü—Ä–æ—Ü–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

#### –í–∏–º–æ–≥–∏

- **Java 21+** (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ jenv –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–µ—Ä—Å—ñ—è–º–∏)
- **Maven 3.9+**
- **Node.js 18+** (–¥–ª—è agent-console)
- **Docker** (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- **Git**

#### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# Clone repository
git clone https://github.com/your-username/NebulaMind.git
cd NebulaMind

# Set Java version (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ jenv)
jenv local 21

# Build all modules
cd app/trading-core
./mvnw clean install

cd ../agent-builder
./mvnw clean install

# Install console dependencies (–∫–æ–ª–∏ –±—É–¥–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)
cd ../agent-console
npm install
```

#### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É
./cicd/local/run-local.sh

# –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Docker Compose
docker compose -f cicd/local/docker-compose.yml up
```

### 2. –í–∏–±—ñ—Ä –∑–∞–¥–∞—á—ñ

1. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [Issues](https://github.com/your-username/NebulaMind/issues)
2. –®—É–∫–∞–π—Ç–µ issues –∑ label `good first issue` –¥–ª—è –ø–æ—á–∞—Ç–∫—É
3. –ü—Ä–æ–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ issue —â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –Ω–∞–¥ –Ω–∏–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏
4. –ß–µ–∫–∞–π—Ç–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤—ñ–¥ maintainers

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—ñ–ª–∫–∏

–î–µ—Ç–∞–ª—å–Ω–æ –¥–∏–≤. [docs/GIT_WORKFLOW.md](docs/GIT_WORKFLOW.md)

```bash
# –û–Ω–æ–≤—ñ—Ç—å main
git checkout main
git pull origin main

# –°—Ç–≤–æ—Ä—ñ—Ç—å feature –≥—ñ–ª–∫—É
git checkout -b feature/your-feature-name

# –ê–±–æ bugfix –≥—ñ–ª–∫—É
git checkout -b bugfix/issue-123
```

### 4. –†–æ–∑—Ä–æ–±–∫–∞

```bash
# –†–æ–±—ñ—Ç—å –∑–º—ñ–Ω–∏
# –ü–∏—à—ñ—Ç—å —Ç–µ—Å—Ç–∏
# –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ
./cicd/local/run-tests.sh

# –ö–æ–º—ñ—Ç—å—Ç–µ –∑–º—ñ–Ω–∏ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º —Ñ–æ—Ä–º–∞—Ç–æ–º
git add <files>
git commit -m "feat(core): add new feature"
```

### 5. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# Unit tests
cd app/trading-core
./mvnw test

cd app/agent-builder
./mvnw test

# Integration tests
./mvnw verify

# –í—Å—ñ —Ç–µ—Å—Ç–∏
./cicd/local/run-tests.sh
```

### 6. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Pull Request

```bash
# Push –≥—ñ–ª–∫–∏
git push origin feature/your-feature-name

# –°—Ç–≤–æ—Ä—ñ—Ç—å PR —á–µ—Ä–µ–∑ GitHub UI
```

## Git Workflow

–ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π Git workflow. –î–µ—Ç–∞–ª—å–Ω–æ —á–∏—Ç–∞–π—Ç–µ –≤ [docs/GIT_WORKFLOW.md](docs/GIT_WORKFLOW.md).

**–ö–æ—Ä–æ—Ç–∫–æ:**

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ [Conventional Commits](https://www.conventionalcommits.org/)
- –°—Ç–≤–æ—Ä—é–π—Ç–µ feature branches –≤—ñ–¥ `main`
- –†–æ–±—ñ—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ñ –∫–æ–º—ñ—Ç–∏
- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–π—Ç–µ—Å—å –∑ `main` —Ä–µ–≥—É–ª—è—Ä–Ω–æ
- –ù–µ —Ä–æ–±—ñ—Ç—å force push –¥–æ `main`

## Coding Standards

### Java Code Style

–ú–∏ –¥–æ—Ç—Ä–∏–º—É—î–º–æ—Å—å [Google Java Style Guide](https://google.github.io/styleguide/javaguide.html) –∑ –¥–µ—è–∫–∏–º–∏ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è–º–∏:

#### –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è

```java
// ‚úÖ –î–û–ë–†–ï
public class OrderService {
    private final OrderRepository orderRepository;
    private final RiskManager riskManager;
    
    public OrderService(OrderRepository orderRepository, RiskManager riskManager) {
        this.orderRepository = orderRepository;
        this.riskManager = riskManager;
    }
    
    public Order placeOrder(PlaceOrderRequest request) {
        // Validate request
        validateRequest(request);
        
        // Check risk
        riskManager.validateOrder(request);
        
        // Place order
        return orderRepository.save(createOrder(request));
    }
}
```

#### Naming Conventions

```java
// Classes: PascalCase
public class OrderService { }
public class RiskManager { }

// Methods: camelCase
public void placeOrder() { }
public Order findById() { }

// Variables: camelCase
private String orderId;
private double orderAmount;

// Constants: UPPER_SNAKE_CASE
public static final int MAX_RETRIES = 3;
public static final String DEFAULT_CURRENCY = "USDT";

// Packages: lowercase
package com.nebulamind.tradingcore.service;
```

#### Lombok Usage

```java
// ‚úÖ –î–û–ë–†–ï - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è DTOs
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class OrderDto {
    private String id;
    private String symbol;
    private double amount;
}

// ‚úÖ –î–û–ë–†–ï - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è domain models –∑ –æ–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—é
@Getter
@Setter
@Builder
public class Order {
    private String id;
    private String symbol;
    private double amount;
    
    // Custom methods
    public boolean isValid() {
        return amount > 0 && symbol != null;
    }
}

// ‚ùå –ü–û–ì–ê–ù–û - –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ @Data –¥–ª—è entities –∑ –ª–æ–≥—ñ–∫–æ—é
@Data
public class Order {
    // equals/hashCode/toString –º–æ–∂—É—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏
}
```

#### Documentation

```java
/**
 * Service for managing trading orders with risk validation
 * 
 * <p>This service coordinates order placement with risk management
 * and ensures all orders comply with trading rules.
 */
@Service
@RequiredArgsConstructor
@Slf4j
public class OrderService {
    
    /**
     * Place a new trading order with risk validation
     * 
     * @param request Order placement request with symbol, amount, and risk policy
     * @return Placed order with execution details
     * @throws RiskValidationException if order violates risk rules
     * @throws InsufficientBalanceException if account balance is too low
     */
    public Order placeOrder(PlaceOrderRequest request) {
        // Implementation
    }
}
```

### Spring Boot Best Practices

#### Dependency Injection

```java
// ‚úÖ –î–û–ë–†–ï - Constructor injection
@Service
@RequiredArgsConstructor  // Lombok generates constructor
public class OrderService {
    private final OrderRepository orderRepository;
    private final RiskManager riskManager;
}

// ‚ùå –ü–û–ì–ê–ù–û - Field injection
@Service
public class OrderService {
    @Autowired
    private OrderRepository orderRepository;
    
    @Autowired
    private RiskManager riskManager;
}
```

#### REST Controllers

```java
@RestController
@RequestMapping("/api/core/orders")
@RequiredArgsConstructor
@Slf4j
public class OrderController {
    
    private final OrderService orderService;
    
    /**
     * Place a new order
     */
    @PostMapping("/place")
    public ResponseEntity<OrderDto> placeOrder(@Valid @RequestBody PlaceOrderRequest request) {
        log.info("POST /api/core/orders/place: {}", request);
        
        Order order = orderService.placeOrder(request);
        OrderDto dto = OrderMapper.toDto(order);
        
        return ResponseEntity.ok(dto);
    }
    
    /**
     * Get order by ID
     */
    @GetMapping("/{orderId}")
    public ResponseEntity<OrderDto> getOrder(@PathVariable String orderId) {
        log.info("GET /api/core/orders/{}", orderId);
        
        return orderService.findById(orderId)
                .map(OrderMapper::toDto)
                .map(ResponseEntity::ok)
                .orElse(ResponseEntity.notFound().build());
    }
}
```

#### Exception Handling

```java
@RestControllerAdvice
@Slf4j
public class GlobalExceptionHandler {
    
    @ExceptionHandler(RiskValidationException.class)
    public ResponseEntity<ErrorResponse> handleRiskValidation(RiskValidationException ex) {
        log.error("Risk validation failed: {}", ex.getMessage());
        
        ErrorResponse response = ErrorResponse.builder()
                .error("RISK_VALIDATION_FAILED")
                .message(ex.getMessage())
                .timestamp(Instant.now())
                .build();
        
        return ResponseEntity.badRequest().body(response);
    }
}
```

### Testing Standards

#### Unit Tests

```java
@ExtendWith(MockitoExtension.class)
class OrderServiceTest {
    
    @Mock
    private OrderRepository orderRepository;
    
    @Mock
    private RiskManager riskManager;
    
    @InjectMocks
    private OrderService orderService;
    
    @Test
    void placeOrder_validRequest_success() {
        // Given
        PlaceOrderRequest request = PlaceOrderRequest.builder()
                .symbol("BTCUSDT")
                .amount(1000.0)
                .build();
        
        Order expectedOrder = Order.builder()
                .id("order-123")
                .symbol("BTCUSDT")
                .amount(1000.0)
                .build();
        
        when(orderRepository.save(any())).thenReturn(expectedOrder);
        
        // When
        Order result = orderService.placeOrder(request);
        
        // Then
        assertThat(result).isNotNull();
        assertThat(result.getId()).isEqualTo("order-123");
        assertThat(result.getSymbol()).isEqualTo("BTCUSDT");
        
        verify(riskManager).validateOrder(request);
        verify(orderRepository).save(any());
    }
    
    @Test
    void placeOrder_riskViolation_throwsException() {
        // Given
        PlaceOrderRequest request = PlaceOrderRequest.builder()
                .symbol("BTCUSDT")
                .amount(10000.0)  // Too large
                .build();
        
        doThrow(new RiskValidationException("Amount exceeds limit"))
                .when(riskManager).validateOrder(request);
        
        // When & Then
        assertThatThrownBy(() -> orderService.placeOrder(request))
                .isInstanceOf(RiskValidationException.class)
                .hasMessage("Amount exceeds limit");
        
        verify(riskManager).validateOrder(request);
        verify(orderRepository, never()).save(any());
    }
}
```

#### Integration Tests

```java
@SpringBootTest
@AutoConfigureMockMvc
class OrderControllerIntegrationTest {
    
    @Autowired
    private MockMvc mockMvc;
    
    @Autowired
    private ObjectMapper objectMapper;
    
    @Test
    void placeOrder_validRequest_returns200() throws Exception {
        // Given
        PlaceOrderRequest request = PlaceOrderRequest.builder()
                .symbol("BTCUSDT")
                .amount(1000.0)
                .build();
        
        // When & Then
        mockMvc.perform(post("/api/core/orders/place")
                .contentType(MediaType.APPLICATION_JSON)
                .content(objectMapper.writeValueAsString(request)))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.symbol").value("BTCUSDT"))
                .andExpect(jsonPath("$.amount").value(1000.0));
    }
}
```

## Testing Guidelines

### Test Coverage

–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏:
- **Unit tests**: 80% coverage –¥–ª—è service layer
- **Integration tests**: –∫—Ä–∏—Ç–∏—á–Ω—ñ API endpoints
- **E2E tests**: –æ—Å–Ω–æ–≤–Ω—ñ user flows

### Running Tests

```bash
# –í—Å—ñ —Ç–µ—Å—Ç–∏
./cicd/local/run-tests.sh

# –¢—ñ–ª—å–∫–∏ unit tests
cd app/trading-core && ./mvnw test
cd app/agent-builder && ./mvnw test

# –ó coverage report
./mvnw test jacoco:report
# Report: target/site/jacoco/index.html
```

### Test Naming

```java
// Pattern: methodName_condition_expectedBehavior

placeOrder_validRequest_success()
placeOrder_invalidAmount_throwsException()
placeOrder_riskViolation_throwsException()
findById_existingId_returnsOrder()
findById_nonExistingId_returnsEmpty()
```

## Pull Request Process

### 1. Pre-submission Checklist

–ü–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º PR –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å:

- [ ] –ö–æ–¥ –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
- [ ] –î–æ–¥–∞–Ω—ñ —Ç–µ—Å—Ç–∏ –¥–ª—è –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
- [ ] –ö–æ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î style guide
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞
- [ ] CHANGELOG.md –æ–Ω–æ–≤–ª–µ–Ω–æ (–¥–ª—è –∑–Ω–∞—á–Ω–∏—Ö –∑–º—ñ–Ω)
- [ ] –ö–æ–º—ñ—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å Conventional Commits format
- [ ] –ì—ñ–ª–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∞ –∑ main

```bash
# Checklist –∫–æ–º–∞–Ω–¥–∏
./mvnw clean install          # Build —É—Å–ø—ñ—à–Ω–∏–π?
./cicd/local/run-tests.sh     # –¢–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å?
git log --oneline -5           # –ö–æ–º—ñ—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ?
```

### 2. PR Title and Description

**Title:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Conventional Commits format

```
feat(core): implement arbitrage chain finder
fix(agent): resolve timeout in portfolio tool
docs: update contribution guidelines
```

**Description:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —à–∞–±–ª–æ–Ω

```markdown
## –ó–º—ñ–Ω–∏
- [–æ–ø–∏—à—ñ—Ç—å –∑–º—ñ–Ω–∏]

## –ú–æ—Ç–∏–≤–∞—Ü—ñ—è
[–ß–æ–º—É —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?]

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- [ ] Unit tests
- [ ] Integration tests
- [ ] Manual testing

## Checklist
- [ ] Code compiles
- [ ] Tests pass
- [ ] Documentation updated
- [ ] CHANGELOG updated

## Related Issues
Closes #123
```

### 3. Code Review

- –ê–¥—Ä–µ—Å—É–π—Ç–µ –≤—Å—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ reviewer
- –ë—É–¥—å—Ç–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º–∏ –¥–æ feedback
- –†–æ–±—ñ—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–æ–º—ñ—Ç–∏ –≤ —Ç—ñ–π –∂–µ –≥—ñ–ª—Ü—ñ
- –ü—ñ—Å–ª—è approval, –º–æ–∂–Ω–∞ –º–µ—Ä–∂–∏—Ç–∏

### 4. –ü—ñ—Å–ª—è Merge

```bash
# –û–Ω–æ–≤—ñ—Ç—å local main
git checkout main
git pull origin main

# –í–∏–¥–∞–ª—ñ—Ç—å feature branch
git branch -d feature/your-feature-name
git push origin --delete feature/your-feature-name
```

## –ü–∏—Ç–∞–Ω–Ω—è?

–Ø–∫—â–æ —É –≤–∞—Å —î –ø–∏—Ç–∞–Ω–Ω—è:

1. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é](docs/)
2. –ü–æ—à—É–∫–∞–π—Ç–µ –≤ [Issues](https://github.com/your-username/NebulaMind/issues)
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–µ issue –∑ label `question`

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

–†–æ–±–ª—è—á–∏ –≤–Ω–µ—Å–æ–∫ —É —Ü–µ–π –ø—Ä–æ—î–∫—Ç, –≤–∏ –ø–æ–≥–æ–¥–∂—É—î—Ç–µ—Å—å —â–æ –≤–∞—à –∫–æ–¥ –±—É–¥–µ –ø—ñ–¥ MIT –ª—ñ—Ü–µ–Ω–∑—ñ—î—é.

---

**–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à –≤–Ω–µ—Å–æ–∫ —É NebulaMind! üéâ**

